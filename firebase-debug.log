[debug] [2024-12-05T22:44:03.984Z] ----------------------------------------------------------------------
[debug] [2024-12-05T22:44:03.987Z] Command:       /root/.nvm/versions/node/v22.12.0/bin/node /usr/local/bin/firebase deploy --only functions --debug
[debug] [2024-12-05T22:44:03.987Z] CLI Version:   13.28.0
[debug] [2024-12-05T22:44:03.987Z] Platform:      linux
[debug] [2024-12-05T22:44:03.987Z] Node Version:  v22.12.0
[debug] [2024-12-05T22:44:03.988Z] Time:          Thu Dec 05 2024 22:44:03 GMT+0000 (Greenwich Mean Time)
[debug] [2024-12-05T22:44:03.988Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-12-05T22:44:04.065Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T22:44:04.067Z] > authorizing via signed-in user (tabiorom123@gmail.com)
[debug] [2024-12-05T22:44:04.068Z] [iam] checking project oii-leaderboard for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-12-05T22:44:04.071Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:04.071Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:04.074Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T22:44:04.074Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:44:04.074Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T22:44:04.344Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T22:44:04.345Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T22:44:04.347Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:04.347Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:04.348Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-12-05T22:44:04.348Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-12-05T22:44:05.110Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-12-05T22:44:05.110Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'oii-leaderboard'...
[info] 
[info] i  deploying functions 
[debug] [2024-12-05T22:44:05.116Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.116Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.116Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard [none]
[debug] [2024-12-05T22:44:05.290Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard 200
[debug] [2024-12-05T22:44:05.290Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard {"projectNumber":"50958797668","projectId":"oii-leaderboard","lifecycleState":"ACTIVE","name":"oii-leaderboard","labels":{"firebase":"enabled"},"createTime":"2024-12-05T14:37:58.255116Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-12-05T22:44:05.293Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.293Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.294Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.294Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-12-05T22:44:05.295Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.295Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-12-05T22:44:05.296Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.296Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:05.296Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [none]
[debug] [2024-12-05T22:44:05.297Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:44:05.301Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [none]
[debug] [2024-12-05T22:44:05.303Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:44:05.306Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [none]
[debug] [2024-12-05T22:44:05.307Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:44:05.310Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [none]
[debug] [2024-12-05T22:44:05.310Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:44:06.379Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com 200
[debug] [2024-12-05T22:44:06.379Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-12-05T22:44:06.423Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com 200
[debug] [2024-12-05T22:44:06.424Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-12-05T22:44:06.442Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com 200
[debug] [2024-12-05T22:44:06.442Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-12-05T22:44:06.687Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com 200
[debug] [2024-12-05T22:44:06.687Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-12-05T22:44:06.688Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:06.689Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:06.689Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig [none]
[debug] [2024-12-05T22:44:07.195Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig 200
[debug] [2024-12-05T22:44:07.195Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig {"projectId":"oii-leaderboard","databaseURL":"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"oii-leaderboard.firebasestorage.app"}
[debug] [2024-12-05T22:44:07.196Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:07.197Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:44:07.198Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs [none]
[debug] [2024-12-05T22:44:07.571Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs 200
[debug] [2024-12-05T22:44:07.571Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs {}
[debug] [2024-12-05T22:44:07.582Z] Validating nodejs source
[debug] [2024-12-05T22:44:08.228Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-12-05T22:44:08.231Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-12-05T22:44:08.237Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-12-05T22:44:08.257Z] Found firebase-functions binary at '/mnt/c/users/tabio/desktop/privat/tabrom.github.io/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8939

[error] 
[error] Error: User code failed to load. Cannot determine backend specification
[debug] [2024-12-05T22:48:14.900Z] ----------------------------------------------------------------------
[debug] [2024-12-05T22:48:14.902Z] Command:       /root/.nvm/versions/node/v22.12.0/bin/node /usr/local/bin/firebase deploy --only functions --debug
[debug] [2024-12-05T22:48:14.902Z] CLI Version:   13.28.0
[debug] [2024-12-05T22:48:14.903Z] Platform:      linux
[debug] [2024-12-05T22:48:14.903Z] Node Version:  v22.12.0
[debug] [2024-12-05T22:48:14.903Z] Time:          Thu Dec 05 2024 22:48:14 GMT+0000 (Greenwich Mean Time)
[debug] [2024-12-05T22:48:14.903Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-12-05T22:48:15.000Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T22:48:15.001Z] > authorizing via signed-in user (tabiorom123@gmail.com)
[debug] [2024-12-05T22:48:15.002Z] [iam] checking project oii-leaderboard for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-12-05T22:48:15.003Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:15.003Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:15.006Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T22:48:15.007Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:48:15.008Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T22:48:15.799Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T22:48:15.799Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T22:48:15.800Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:15.801Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:15.802Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-12-05T22:48:15.802Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-12-05T22:48:16.526Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-12-05T22:48:16.527Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'oii-leaderboard'...
[info] 
[info] i  deploying functions 
[debug] [2024-12-05T22:48:16.532Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.532Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.533Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard [none]
[debug] [2024-12-05T22:48:16.717Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard 200
[debug] [2024-12-05T22:48:16.718Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard {"projectNumber":"50958797668","projectId":"oii-leaderboard","lifecycleState":"ACTIVE","name":"oii-leaderboard","labels":{"firebase":"enabled"},"createTime":"2024-12-05T14:37:58.255116Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-12-05T22:48:16.721Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.721Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.722Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.722Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-12-05T22:48:16.723Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.723Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-12-05T22:48:16.723Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.724Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:16.724Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [none]
[debug] [2024-12-05T22:48:16.724Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:48:16.726Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [none]
[debug] [2024-12-05T22:48:16.727Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:48:16.729Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [none]
[debug] [2024-12-05T22:48:16.729Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:48:16.731Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [none]
[debug] [2024-12-05T22:48:16.731Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:48:17.651Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com 200
[debug] [2024-12-05T22:48:17.651Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-12-05T22:48:17.656Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com 200
[debug] [2024-12-05T22:48:17.656Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-12-05T22:48:17.658Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com 200
[debug] [2024-12-05T22:48:17.658Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-12-05T22:48:17.662Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com 200
[debug] [2024-12-05T22:48:17.662Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-12-05T22:48:17.663Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:17.663Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:17.664Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig [none]
[debug] [2024-12-05T22:48:18.029Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig 200
[debug] [2024-12-05T22:48:18.030Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig {"projectId":"oii-leaderboard","databaseURL":"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"oii-leaderboard.firebasestorage.app"}
[debug] [2024-12-05T22:48:18.031Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:18.032Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:48:18.032Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs [none]
[debug] [2024-12-05T22:48:18.385Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs 200
[debug] [2024-12-05T22:48:18.385Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs {}
[debug] [2024-12-05T22:48:18.395Z] Validating nodejs source
[debug] [2024-12-05T22:48:19.084Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.29.1",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-12-05T22:48:19.087Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-12-05T22:48:19.091Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-12-05T22:48:19.112Z] Found firebase-functions binary at '/mnt/c/users/tabio/desktop/privat/tabrom.github.io/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8875

[error] 
[error] Error: User code failed to load. Cannot determine backend specification
[debug] [2024-12-05T22:56:45.995Z] ----------------------------------------------------------------------
[debug] [2024-12-05T22:56:45.997Z] Command:       /root/.nvm/versions/node/v18.20.0/bin/node /usr/local/bin/firebase deploy --only functions --debug
[debug] [2024-12-05T22:56:45.998Z] CLI Version:   13.28.0
[debug] [2024-12-05T22:56:45.998Z] Platform:      linux
[debug] [2024-12-05T22:56:45.998Z] Node Version:  v18.20.0
[debug] [2024-12-05T22:56:45.999Z] Time:          Thu Dec 05 2024 22:56:45 GMT+0000 (Greenwich Mean Time)
[debug] [2024-12-05T22:56:45.999Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-12-05T22:56:46.083Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T22:56:46.085Z] > authorizing via signed-in user (tabiorom123@gmail.com)
[debug] [2024-12-05T22:56:46.086Z] [iam] checking project oii-leaderboard for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-12-05T22:56:46.088Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:46.088Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:46.090Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T22:56:46.091Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:56:46.092Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T22:56:46.853Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T22:56:46.853Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T22:56:46.855Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:46.856Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:46.856Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-12-05T22:56:46.856Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-12-05T22:56:47.560Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-12-05T22:56:47.560Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'oii-leaderboard'...
[info] 
[info] i  deploying functions 
[debug] [2024-12-05T22:56:47.565Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:47.565Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:47.566Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard [none]
[debug] [2024-12-05T22:56:48.248Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard 200
[debug] [2024-12-05T22:56:48.249Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard {"projectNumber":"50958797668","projectId":"oii-leaderboard","lifecycleState":"ACTIVE","name":"oii-leaderboard","labels":{"firebase":"enabled"},"createTime":"2024-12-05T14:37:58.255116Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-12-05T22:56:48.252Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:48.252Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:48.252Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:48.253Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-12-05T22:56:48.253Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:48.254Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-12-05T22:56:48.254Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:48.254Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:48.255Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [none]
[debug] [2024-12-05T22:56:48.255Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:56:48.258Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [none]
[debug] [2024-12-05T22:56:48.258Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:56:48.261Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [none]
[debug] [2024-12-05T22:56:48.261Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:56:48.264Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [none]
[debug] [2024-12-05T22:56:48.264Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:56:49.168Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com 200
[debug] [2024-12-05T22:56:49.168Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-12-05T22:56:49.171Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com 200
[debug] [2024-12-05T22:56:49.171Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-12-05T22:56:49.173Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com 200
[debug] [2024-12-05T22:56:49.173Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-12-05T22:56:49.181Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com 200
[debug] [2024-12-05T22:56:49.181Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-12-05T22:56:49.182Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:49.182Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:49.182Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig [none]
[debug] [2024-12-05T22:56:49.579Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig 200
[debug] [2024-12-05T22:56:49.579Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig {"projectId":"oii-leaderboard","databaseURL":"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"oii-leaderboard.firebasestorage.app"}
[debug] [2024-12-05T22:56:49.580Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:49.581Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:49.581Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs [none]
[debug] [2024-12-05T22:56:49.924Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs 200
[debug] [2024-12-05T22:56:49.925Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs {}
[debug] [2024-12-05T22:56:49.938Z] Validating nodejs source
[debug] [2024-12-05T22:56:50.715Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.29.1",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-12-05T22:56:50.717Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-12-05T22:56:50.721Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-12-05T22:56:50.737Z] Found firebase-functions binary at '/mnt/c/users/tabio/desktop/privat/tabrom.github.io/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8636

[debug] [2024-12-05T22:56:59.851Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-12-05T22:56:59.876Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:59.876Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:56:59.877Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com [none]
[debug] [2024-12-05T22:56:59.877Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:00.712Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com 200
[debug] [2024-12-05T22:57:00.712Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com [omitted]
[warn] ⚠  extensions: missing required API firebaseextensions.googleapis.com. Enabling now... 
[debug] [2024-12-05T22:57:00.713Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:00.714Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:00.714Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com:enable [none]
[debug] [2024-12-05T22:57:00.715Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com:enable x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:01.828Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com:enable 200
[debug] [2024-12-05T22:57:01.829Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com:enable [omitted]
[debug] [2024-12-05T22:57:11.831Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:11.832Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:11.833Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com [none]
[debug] [2024-12-05T22:57:11.833Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:12.654Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com 200
[debug] [2024-12-05T22:57:12.654Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-12-05T22:57:12.656Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T22:57:12.657Z] > authorizing via signed-in user (tabiorom123@gmail.com)
[debug] [2024-12-05T22:57:12.657Z] [iam] checking project oii-leaderboard for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-12-05T22:57:12.658Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:12.658Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:12.658Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T22:57:12.658Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:12.658Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-12-05T22:57:13.291Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T22:57:13.291Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-12-05T22:57:13.292Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:13.292Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:13.293Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/oii-leaderboard/instances pageSize=100&pageToken=
[debug] [2024-12-05T22:57:15.486Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/oii-leaderboard/instances 200
[debug] [2024-12-05T22:57:15.486Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/oii-leaderboard/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /mnt/c/users/tabio/desktop/privat/tabrom.github.io/functions (61.49 KB) for uploading 
[debug] [2024-12-05T22:57:15.577Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:15.578Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:15.578Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/oii-leaderboard/locations/-/functions [none]
[debug] [2024-12-05T22:57:16.237Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/oii-leaderboard/locations/-/functions 200
[debug] [2024-12-05T22:57:16.237Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/oii-leaderboard/locations/-/functions {}
[debug] [2024-12-05T22:57:16.238Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:16.239Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:16.240Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-12-05T22:57:17.277Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/-/functions 200
[debug] [2024-12-05T22:57:17.277Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/-/functions {}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-12-05T22:57:17.280Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:17.280Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-12-05T22:57:17.281Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:17.281Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-12-05T22:57:17.282Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:17.282Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-12-05T22:57:17.283Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:17.283Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:17.283Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com [none]
[debug] [2024-12-05T22:57:17.284Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:17.286Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com [none]
[debug] [2024-12-05T22:57:17.287Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:17.293Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com [none]
[debug] [2024-12-05T22:57:17.293Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:17.296Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com [none]
[debug] [2024-12-05T22:57:17.296Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:18.160Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com 200
[debug] [2024-12-05T22:57:18.161Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com [omitted]
[warn] ⚠  functions: missing required API eventarc.googleapis.com. Enabling now... 
[debug] [2024-12-05T22:57:18.162Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:18.162Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:18.163Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com:enable [none]
[debug] [2024-12-05T22:57:18.163Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com:enable x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:18.170Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com 200
[debug] [2024-12-05T22:57:18.170Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-12-05T22:57:18.175Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com 200
[debug] [2024-12-05T22:57:18.175Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-12-05T22:57:18.181Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com 200
[debug] [2024-12-05T22:57:18.182Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com [omitted]
[warn] ⚠  functions: missing required API run.googleapis.com. Enabling now... 
[debug] [2024-12-05T22:57:18.184Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:18.184Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:18.185Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com:enable [none]
[debug] [2024-12-05T22:57:18.185Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com:enable x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:19.246Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com:enable 200
[debug] [2024-12-05T22:57:19.247Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com:enable [omitted]
[debug] [2024-12-05T22:57:19.315Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com:enable 200
[debug] [2024-12-05T22:57:19.315Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com:enable [omitted]
[debug] [2024-12-05T22:57:29.257Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:29.258Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:29.258Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com [none]
[debug] [2024-12-05T22:57:29.259Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:29.316Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:29.316Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:29.316Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com [none]
[debug] [2024-12-05T22:57:29.317Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:30.281Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com 200
[debug] [2024-12-05T22:57:30.281Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-12-05T22:57:30.283Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com 200
[debug] [2024-12-05T22:57:30.284Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-12-05T22:57:30.285Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:30.286Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-12-05T22:57:30.286Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:30.287Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:30.287Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-05T22:57:30.289Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-05T22:57:31.005Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-05T22:57:31.006Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-50958797668@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"117683615000498136947"}}
[debug] [2024-12-05T22:57:31.524Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-05T22:57:31.524Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-50958797668@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"116876955277465884279"}}
[debug] [2024-12-05T22:57:31.527Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:31.527Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:31.528Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard [none]
[debug] [2024-12-05T22:57:32.193Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard 200
[debug] [2024-12-05T22:57:32.193Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard {"projectNumber":"50958797668","projectId":"oii-leaderboard","lifecycleState":"ACTIVE","name":"oii-leaderboard","labels":{"firebase":"enabled"},"createTime":"2024-12-05T14:37:58.255116Z"}
[debug] [2024-12-05T22:57:32.196Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:32.197Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:32.197Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/oii-leaderboard/billingInfo [none]
[debug] [2024-12-05T22:57:33.031Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/oii-leaderboard/billingInfo 200
[debug] [2024-12-05T22:57:33.032Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/oii-leaderboard/billingInfo {"name":"projects/oii-leaderboard/billingInfo","projectId":"oii-leaderboard","billingAccountName":"billingAccounts/01073D-D6E3A4-7618E7","billingEnabled":true}
[debug] [2024-12-05T22:57:33.034Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2024-12-05T22:57:33.034Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:33.035Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:33.035Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T22:57:33.035Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T22:57:33.035Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-12-05T22:57:33.655Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T22:57:33.656Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-12-05T22:57:33.656Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2024-12-05T22:57:33.658Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:33.658Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:33.658Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-12-05T22:57:35.385Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-12-05T22:57:35.385Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip?GoogleAccessId=service-50958797668@gcf-admin-robot.iam.gserviceaccount.com&Expires=1733441255&Signature=bCMxscBfl%2FJQsZSYdwwel7sGldYH5iV69MSMTbAk0FUqQtKM5o%2F0MKrjDkGLcd39jtOrN0%2BYLKt9ta22aQFqeEv9xMROy0fN4mHtWEDO0yGbvxQFglXVXG6%2BOS9M5kYj90Xe4RWn7dMHG57fNj7ugpaX4ohPtPY%2Fq1l7Oi%2FhWZWxs03olZdajfuwTJChJbjMaMtZo4p0xuvqu77rhnZorIWPRPYNtuBEsTqdV8%2FyXYU5uChfFRTLAtSH1HHykBPDzy5Q08JlgV8jQYkYRepUBg2xnEr6N%2BykbTK8Y%2BE345X0f8YjWfixWtKgsMhbfegsCil8upKO5O8aydDzJ1BH0A%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com","object":"63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip"}}
[debug] [2024-12-05T22:57:35.388Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip GoogleAccessId=service-50958797668%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1733441255&Signature=bCMxscBfl%2FJQsZSYdwwel7sGldYH5iV69MSMTbAk0FUqQtKM5o%2F0MKrjDkGLcd39jtOrN0%2BYLKt9ta22aQFqeEv9xMROy0fN4mHtWEDO0yGbvxQFglXVXG6%2BOS9M5kYj90Xe4RWn7dMHG57fNj7ugpaX4ohPtPY%2Fq1l7Oi%2FhWZWxs03olZdajfuwTJChJbjMaMtZo4p0xuvqu77rhnZorIWPRPYNtuBEsTqdV8%2FyXYU5uChfFRTLAtSH1HHykBPDzy5Q08JlgV8jQYkYRepUBg2xnEr6N%2BykbTK8Y%2BE345X0f8YjWfixWtKgsMhbfegsCil8upKO5O8aydDzJ1BH0A%3D%3D
[debug] [2024-12-05T22:57:35.388Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip [stream]
[debug] [2024-12-05T22:57:35.918Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip 200
[debug] [2024-12-05T22:57:35.918Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function helloWorld(us-central1)... 
[debug] [2024-12-05T22:57:35.926Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:35.927Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:35.928Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions functionId=helloWorld
[debug] [2024-12-05T22:57:35.928Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions {"name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com","object":"63a818f2-d40f-4f1b-8b09-73320ae8cd02.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"}}
[debug] [2024-12-05T22:57:37.778Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions 200
[debug] [2024-12-05T22:57:37.779Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-12-05T22:57:37.780Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:37.781Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:37.781Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:57:38.565Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:57:38.565Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-12-05T22:57:39.070Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:57:39.071Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:39.074Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:39.075Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:57:39.852Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:57:39.852Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-12-05T22:57:40.854Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:57:40.854Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:40.855Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:40.855Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:57:41.636Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:57:41.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-12-05T22:57:43.638Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:57:43.639Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:43.639Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:43.640Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:57:44.396Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:57:44.396Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-12-05T22:57:48.400Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:57:48.401Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:48.402Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:48.402Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:57:49.159Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:57:49.159Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4"},"done":false}
[debug] [2024-12-05T22:57:57.167Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:57:57.168Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:57.168Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:57:57.169Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:57:57.926Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:57:57.926Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4"},"done":false}
[debug] [2024-12-05T22:58:07.937Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:58:07.938Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:07.938Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:07.939Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:58:08.703Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:58:08.703Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4"},"done":false}
[debug] [2024-12-05T22:58:18.713Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:58:18.714Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:18.715Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:18.715Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:58:19.493Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:58:19.493Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4"},"done":false}
[debug] [2024-12-05T22:58:29.505Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T22:58:29.506Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:29.506Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:29.506Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 [none]
[debug] [2024-12-05T22:58:30.264Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 200
[debug] [2024-12-05T22:58:30.267Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439456748-6288dd30f24c7-08552a16-31bafdd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T22:57:37.803266629Z","endTime":"2024-12-05T22:58:24.199512502Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/oii-leaderboard/locations/us-central1/services/helloworld"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions-test@3.3.0\nnpm warn node_modules/firebase-functions-test\nnpm warn   dev firebase-functions-test@\"^3.1.0\" from the root project\nnpm error code ETARGET\nnpm error notarget No matching version found for firebase-admin@^11.29.1.\nnpm error notarget In most cases you or one of your dependencies are requesting\nnpm error notarget a package version that doesn't exist.\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T22_58_06_990Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668."}}
[debug] [2024-12-05T22:58:30.267Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency
npm warn While resolving: functions@undefined
npm warn Found: firebase-admin@12.7.0
npm warn node_modules/firebase-admin
npm warn   firebase-admin@"^11.29.1" from the root project
npm warn   2 more (firebase-functions, firebase-functions-test)
npm warn
npm warn Could not resolve dependency:
npm warn peer firebase-admin@"^11.10.0 || ^12.0.0 || ^13.0.0" from firebase-functions@6.1.1
npm warn node_modules/firebase-functions
npm warn   firebase-functions@"^6.0.1" from the root project
npm warn   1 more (firebase-functions-test)
npm warn ERESOLVE overriding peer dependency
npm warn While resolving: functions@undefined
npm warn Found: firebase-admin@12.7.0
npm warn node_modules/firebase-admin
npm warn   firebase-admin@"^11.29.1" from the root project
npm warn   2 more (firebase-functions, firebase-functions-test)
npm warn
npm warn Could not resolve dependency:
npm warn peer firebase-admin@"^11.10.0 || ^12.0.0 || ^13.0.0" from firebase-functions@6.1.1
npm warn node_modules/firebase-functions
npm warn   firebase-functions@"^6.0.1" from the root project
npm warn   1 more (firebase-functions-test)
npm warn ERESOLVE overriding peer dependency
npm warn While resolving: functions@undefined
npm warn Found: firebase-admin@12.7.0
npm warn node_modules/firebase-admin
npm warn   firebase-admin@"^11.29.1" from the root project
npm warn   2 more (firebase-functions, firebase-functions-test)
npm warn
npm warn Could not resolve dependency:
npm warn peer firebase-admin@"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0" from firebase-functions-test@3.3.0
npm warn node_modules/firebase-functions-test
npm warn   dev firebase-functions-test@"^3.1.0" from the root project
npm error code ETARGET
npm error notarget No matching version found for firebase-admin@^11.29.1.
npm error notarget In most cases you or one of your dependencies are requesting
npm error notarget a package version that doesn't exist.
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T22_58_06_990Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668.
[debug] [2024-12-05T22:58:30.270Z] Total Function Deployment time: 54346
[debug] [2024-12-05T22:58:30.270Z] 1 Functions Deployed
[debug] [2024-12-05T22:58:30.270Z] 1 Functions Errored
[debug] [2024-12-05T22:58:30.270Z] 0 Function Deployments Aborted
[debug] [2024-12-05T22:58:30.270Z] Average Function Deployment time: 54345
[info] 
[info] Functions deploy had errors with the following functions:
	helloWorld(us-central1)
[debug] [2024-12-05T22:58:30.272Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-12-05T22:58:30.274Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:30.274Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:30.276Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:30.276Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:30.277Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-12-05T22:58:30.279Z] >>> [apiv2][query] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T22:58:31.104Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 404
[debug] [2024-12-05T22:58:31.104Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"error":{"code":404,"message":"Package \"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T22:58:31.905Z] <<< [apiv2][status] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list 404
[debug] [2024-12-05T22:58:31.905Z] <<< [apiv2][body] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T22:58:31.906Z] Failed docker command with error  Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-05T22:58:31.908Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:31.909Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:31.909Z] >>> [apiv2][query] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T22:58:32.209Z] <<< [apiv2][status] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list 404
[debug] [2024-12-05T22:58:32.209Z] <<< [apiv2][body] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T22:58:32.210Z] Failed docker command with error  Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-05T22:58:32.311Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:32.312Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T22:58:32.312Z] >>> [apiv2][query] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T22:58:32.609Z] <<< [apiv2][status] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list 404
[debug] [2024-12-05T22:58:32.610Z] <<< [apiv2][body] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T22:58:32.610Z] Failed docker command with error  Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/oii-leaderboard/us/gcf 
[debug] [2024-12-05T22:58:32.612Z] Functions deploy failed.
[debug] [2024-12-05T22:58:32.613Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "oii-leaderboard",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "oii-leaderboard",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/oii-leaderboard/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "5093db113b737e7bb8895c662c3e3b92f964e1bf"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions-test@3.3.0\nnpm warn node_modules/firebase-functions-test\nnpm warn   dev firebase-functions-test@\"^3.1.0\" from the root project\nnpm error code ETARGET\nnpm error notarget No matching version found for firebase-admin@^11.29.1.\nnpm error notarget In most cases you or one of your dependencies are requesting\nnpm error notarget a package version that doesn't exist.\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T22_58_06_990Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions-test@3.3.0\nnpm warn node_modules/firebase-functions-test\nnpm warn   dev firebase-functions-test@\"^3.1.0\" from the root project\nnpm error code ETARGET\nnpm error notarget No matching version found for firebase-admin@^11.29.1.\nnpm error notarget In most cases you or one of your dependencies are requesting\nnpm error notarget a package version that doesn't exist.\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T22_58_06_990Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/910f88ed-ee29-4685-88d9-ec5939d2d3c4?project=50958797668."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-12-05T22:58:32.614Z] Error: Failed to create function helloWorld in region us-central1
    at /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.createV2Function (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:278:30)
    at async Fabricator.createEndpoint (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:137:13)
    at async handle (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2024-12-05T23:00:10.344Z] ----------------------------------------------------------------------
[debug] [2024-12-05T23:00:10.347Z] Command:       /root/.nvm/versions/node/v18.20.0/bin/node /usr/local/bin/firebase deploy --only functions --debug
[debug] [2024-12-05T23:00:10.347Z] CLI Version:   13.28.0
[debug] [2024-12-05T23:00:10.347Z] Platform:      linux
[debug] [2024-12-05T23:00:10.347Z] Node Version:  v18.20.0
[debug] [2024-12-05T23:00:10.348Z] Time:          Thu Dec 05 2024 23:00:10 GMT+0000 (Greenwich Mean Time)
[debug] [2024-12-05T23:00:10.348Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-12-05T23:00:10.426Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T23:00:10.428Z] > authorizing via signed-in user (tabiorom123@gmail.com)
[debug] [2024-12-05T23:00:10.429Z] [iam] checking project oii-leaderboard for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-12-05T23:00:10.431Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:10.431Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:10.433Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T23:00:10.433Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:10.433Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T23:00:11.110Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T23:00:11.110Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T23:00:11.112Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:11.113Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:11.113Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-12-05T23:00:11.113Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-12-05T23:00:11.745Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-12-05T23:00:11.746Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/oii-leaderboard/serviceAccounts/oii-leaderboard@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'oii-leaderboard'...
[info] 
[info] i  deploying functions 
[debug] [2024-12-05T23:00:11.750Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:11.750Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:11.750Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard [none]
[debug] [2024-12-05T23:00:12.422Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard 200
[debug] [2024-12-05T23:00:12.423Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard {"projectNumber":"50958797668","projectId":"oii-leaderboard","lifecycleState":"ACTIVE","name":"oii-leaderboard","labels":{"firebase":"enabled"},"createTime":"2024-12-05T14:37:58.255116Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:12.425Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:12.426Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:12.426Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:12.426Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:12.427Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:12.427Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:12.427Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:12.428Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:12.428Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [none]
[debug] [2024-12-05T23:00:12.428Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:12.430Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [none]
[debug] [2024-12-05T23:00:12.430Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:12.432Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [none]
[debug] [2024-12-05T23:00:12.432Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:12.434Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [none]
[debug] [2024-12-05T23:00:12.434Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:13.243Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com 200
[debug] [2024-12-05T23:00:13.244Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-12-05T23:00:13.252Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com 200
[debug] [2024-12-05T23:00:13.252Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-12-05T23:00:13.264Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com 200
[debug] [2024-12-05T23:00:13.264Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-12-05T23:00:13.266Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com 200
[debug] [2024-12-05T23:00:13.267Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-12-05T23:00:13.267Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:13.267Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:13.268Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig [none]
[debug] [2024-12-05T23:00:13.577Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig 200
[debug] [2024-12-05T23:00:13.578Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/oii-leaderboard/adminSdkConfig {"projectId":"oii-leaderboard","databaseURL":"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"oii-leaderboard.firebasestorage.app"}
[debug] [2024-12-05T23:00:13.579Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:13.580Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:13.580Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs [none]
[debug] [2024-12-05T23:00:13.843Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs 200
[debug] [2024-12-05T23:00:13.843Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/oii-leaderboard/configs {}
[debug] [2024-12-05T23:00:13.854Z] Validating nodejs source
[debug] [2024-12-05T23:00:14.493Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.29.1",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-12-05T23:00:14.495Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-12-05T23:00:14.499Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-12-05T23:00:14.517Z] Found firebase-functions binary at '/mnt/c/users/tabio/desktop/privat/tabrom.github.io/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8401

[debug] [2024-12-05T23:00:24.038Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:24.060Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:24.061Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:24.061Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com [none]
[debug] [2024-12-05T23:00:24.061Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:24.871Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com 200
[debug] [2024-12-05T23:00:24.871Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-12-05T23:00:24.871Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T23:00:24.873Z] > authorizing via signed-in user (tabiorom123@gmail.com)
[debug] [2024-12-05T23:00:24.873Z] [iam] checking project oii-leaderboard for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-12-05T23:00:24.874Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:24.874Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:24.874Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions [none]
[debug] [2024-12-05T23:00:24.875Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:24.875Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-12-05T23:00:25.085Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions 200
[debug] [2024-12-05T23:00:25.086Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-12-05T23:00:25.087Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:25.087Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:25.090Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/oii-leaderboard/instances pageSize=100&pageToken=
[debug] [2024-12-05T23:00:25.847Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/oii-leaderboard/instances 200
[debug] [2024-12-05T23:00:25.847Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/oii-leaderboard/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /mnt/c/users/tabio/desktop/privat/tabrom.github.io/functions (61.49 KB) for uploading 
[debug] [2024-12-05T23:00:25.938Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:25.938Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:25.939Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/oii-leaderboard/locations/-/functions [none]
[debug] [2024-12-05T23:00:26.603Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/oii-leaderboard/locations/-/functions 200
[debug] [2024-12-05T23:00:26.603Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/oii-leaderboard/locations/-/functions {}
[debug] [2024-12-05T23:00:26.604Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:26.605Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:26.606Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-12-05T23:00:27.611Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/-/functions 200
[debug] [2024-12-05T23:00:27.612Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/-/functions {"functions":[{"name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/50958797668/locations/us-central1/builds/910f88ed-ee29-4685-88d9-ec5939d2d3c4","runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-05T22:58:24.208892522Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5093db113b737e7bb8895c662c3e3b92f964e1bf"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld","createTime":"2024-12-05T22:57:37.799977699Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:27.615Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:27.615Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:27.616Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:27.616Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:27.617Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:27.617Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-12-05T23:00:27.618Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:27.618Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:27.619Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com [none]
[debug] [2024-12-05T23:00:27.619Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:27.622Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com [none]
[debug] [2024-12-05T23:00:27.622Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:27.627Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com [none]
[debug] [2024-12-05T23:00:27.627Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:27.630Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com [none]
[debug] [2024-12-05T23:00:27.630Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com x-goog-quota-user=projects/oii-leaderboard
[debug] [2024-12-05T23:00:28.431Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com 200
[debug] [2024-12-05T23:00:28.431Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-12-05T23:00:28.436Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com 200
[debug] [2024-12-05T23:00:28.437Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-12-05T23:00:28.441Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com 200
[debug] [2024-12-05T23:00:28.441Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-12-05T23:00:28.455Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com 200
[debug] [2024-12-05T23:00:28.456Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/oii-leaderboard/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-12-05T23:00:28.458Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:28.459Z] Checked if tokens are valid: true, expires at: 1733441389615
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-12-05T23:00:28.459Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:28.459Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:28.460Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-05T23:00:28.462Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-05T23:00:28.949Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-05T23:00:28.950Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-50958797668@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"117683615000498136947"}}
[debug] [2024-12-05T23:00:29.363Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-05T23:00:29.363Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/50958797668/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-50958797668@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"116876955277465884279"}}
[debug] [2024-12-05T23:00:29.367Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:29.367Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:29.368Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard [none]
[debug] [2024-12-05T23:00:29.761Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard 200
[debug] [2024-12-05T23:00:29.761Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/oii-leaderboard {"projectNumber":"50958797668","projectId":"oii-leaderboard","lifecycleState":"ACTIVE","name":"oii-leaderboard","labels":{"firebase":"enabled"},"createTime":"2024-12-05T14:37:58.255116Z"}
[debug] [2024-12-05T23:00:29.763Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:29.763Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:29.763Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/oii-leaderboard/billingInfo [none]
[debug] [2024-12-05T23:00:30.458Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/oii-leaderboard/billingInfo 200
[debug] [2024-12-05T23:00:30.458Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/oii-leaderboard/billingInfo {"name":"projects/oii-leaderboard/billingInfo","projectId":"oii-leaderboard","billingAccountName":"billingAccounts/01073D-D6E3A4-7618E7","billingEnabled":true}
[debug] [2024-12-05T23:00:30.461Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:30.461Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:30.462Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-12-05T23:00:31.304Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-12-05T23:00:31.304Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/917159d0-e722-40a9-acbe-ed2243a8bebf.zip?GoogleAccessId=service-50958797668@gcf-admin-robot.iam.gserviceaccount.com&Expires=1733441431&Signature=TnbbXjxQ%2BHtq16KS%2Bpeedt6HBwlgDxwiVSVnj6IaVWfAfnGWwwuDDNqgLmPyO99STTVgHmTfuVeiIijefg73xVEfqG3y%2BiNlfmhEtUHdN8RCewa%2FTvc4%2F%2FBcH8CPVVP8tA95gcIqzhF%2BJybFHs8nkzSGRwVh8CxpT6CwAbOarMwdBMYxuy%2BLULwvnncuH1sgjV%2FsJD6WxRVbo9vlqfHTBimJcucoI8FRioeckU5oPISr6PQfPSXOjNmPriJ30sd%2FyNxREvMmOvsymDTMUncZqMqI%2BrgwnXDKj26vTT3gbsGsP4MrQISwexp2Kf9vYfx%2BeV6aybg3AT76KYU8Ibwm6w%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com","object":"917159d0-e722-40a9-acbe-ed2243a8bebf.zip"}}
[debug] [2024-12-05T23:00:31.306Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/917159d0-e722-40a9-acbe-ed2243a8bebf.zip GoogleAccessId=service-50958797668%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1733441431&Signature=TnbbXjxQ%2BHtq16KS%2Bpeedt6HBwlgDxwiVSVnj6IaVWfAfnGWwwuDDNqgLmPyO99STTVgHmTfuVeiIijefg73xVEfqG3y%2BiNlfmhEtUHdN8RCewa%2FTvc4%2F%2FBcH8CPVVP8tA95gcIqzhF%2BJybFHs8nkzSGRwVh8CxpT6CwAbOarMwdBMYxuy%2BLULwvnncuH1sgjV%2FsJD6WxRVbo9vlqfHTBimJcucoI8FRioeckU5oPISr6PQfPSXOjNmPriJ30sd%2FyNxREvMmOvsymDTMUncZqMqI%2BrgwnXDKj26vTT3gbsGsP4MrQISwexp2Kf9vYfx%2BeV6aybg3AT76KYU8Ibwm6w%3D%3D
[debug] [2024-12-05T23:00:31.307Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/917159d0-e722-40a9-acbe-ed2243a8bebf.zip [stream]
[debug] [2024-12-05T23:00:32.303Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/917159d0-e722-40a9-acbe-ed2243a8bebf.zip 200
[debug] [2024-12-05T23:00:32.304Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com/917159d0-e722-40a9-acbe-ed2243a8bebf.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function helloWorld(us-central1)... 
[debug] [2024-12-05T23:00:32.310Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:32.310Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:32.310Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions/helloWorld updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-12-05T23:00:32.310Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions/helloWorld {"name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-50958797668.us-central1.cloudfunctions.appspot.com","object":"917159d0-e722-40a9-acbe-ed2243a8bebf.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"}}
[debug] [2024-12-05T23:00:33.869Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions/helloWorld 200
[debug] [2024-12-05T23:00:33.869Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/functions/helloWorld {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-12-05T23:00:33.871Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:33.872Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:33.872Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:00:34.630Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:00:34.630Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-12-05T23:00:35.132Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T23:00:35.133Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:35.133Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:35.133Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:00:35.892Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:00:35.892Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c"},"done":false}
[debug] [2024-12-05T23:00:36.895Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T23:00:36.896Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:36.896Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:36.896Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:00:37.653Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:00:37.653Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c"},"done":false}
[debug] [2024-12-05T23:00:39.655Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T23:00:39.656Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:39.657Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:39.657Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:00:40.415Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:00:40.415Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c"},"done":false}
[debug] [2024-12-05T23:00:44.415Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T23:00:44.417Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:44.417Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:44.418Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:00:45.180Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:00:45.181Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c"},"done":false}
[debug] [2024-12-05T23:00:53.191Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T23:00:53.192Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:53.192Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:00:53.193Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:00:53.967Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:00:53.968Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/50958797668/locations/us-central1/builds/00df843c-e136-4981-8ace-b6fc12477d8c"},"done":false}
[debug] [2024-12-05T23:01:03.978Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-12-05T23:01:03.979Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:03.979Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:03.980Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 [none]
[debug] [2024-12-05T23:01:04.726Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 200
[debug] [2024-12-05T23:01:04.726Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175 {"name":"projects/oii-leaderboard/locations/us-central1/operations/operation-1733439633109-6288ddd923322-8095bd94-d1920175","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T23:00:33.889571127Z","endTime":"2024-12-05T23:01:03.510835433Z","target":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/oii-leaderboard/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439633830321"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-50958797668-us-central1","object":"helloWorld/function-source.zip","generation":"1733439457438981"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/oii-leaderboard/serviceAccounts/50958797668-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/oii-leaderboard/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}","GCLOUD_PROJECT":"oii-leaderboard","EVENTARC_CLOUD_EVENT_SOURCE":"projects/oii-leaderboard/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"50958797668-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"31c9d04a15525e98592b94a650a62558bde2a227"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/oii-leaderboard/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-oii-leaderboard.cloudfunctions.net/helloWorld"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions-test@3.3.0\nnpm warn node_modules/firebase-functions-test\nnpm warn   dev firebase-functions-test@\"^3.1.0\" from the root project\nnpm error code ETARGET\nnpm error notarget No matching version found for firebase-admin@^11.29.1.\nnpm error notarget In most cases you or one of your dependencies are requesting\nnpm error notarget a package version that doesn't exist.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T23_00_50_804Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668."}}
[debug] [2024-12-05T23:01:04.726Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency
npm warn While resolving: functions@undefined
npm warn Found: firebase-admin@12.7.0
npm warn node_modules/firebase-admin
npm warn   firebase-admin@"^11.29.1" from the root project
npm warn   2 more (firebase-functions, firebase-functions-test)
npm warn
npm warn Could not resolve dependency:
npm warn peer firebase-admin@"^11.10.0 || ^12.0.0 || ^13.0.0" from firebase-functions@6.1.1
npm warn node_modules/firebase-functions
npm warn   firebase-functions@"^6.0.1" from the root project
npm warn   1 more (firebase-functions-test)
npm warn ERESOLVE overriding peer dependency
npm warn While resolving: functions@undefined
npm warn Found: firebase-admin@12.7.0
npm warn node_modules/firebase-admin
npm warn   firebase-admin@"^11.29.1" from the root project
npm warn   2 more (firebase-functions, firebase-functions-test)
npm warn
npm warn Could not resolve dependency:
npm warn peer firebase-admin@"^11.10.0 || ^12.0.0 || ^13.0.0" from firebase-functions@6.1.1
npm warn node_modules/firebase-functions
npm warn   firebase-functions@"^6.0.1" from the root project
npm warn   1 more (firebase-functions-test)
npm warn ERESOLVE overriding peer dependency
npm warn While resolving: functions@undefined
npm warn Found: firebase-admin@12.7.0
npm warn node_modules/firebase-admin
npm warn   firebase-admin@"^11.29.1" from the root project
npm warn   2 more (firebase-functions, firebase-functions-test)
npm warn
npm warn Could not resolve dependency:
npm warn peer firebase-admin@"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0" from firebase-functions-test@3.3.0
npm warn node_modules/firebase-functions-test
npm warn   dev firebase-functions-test@"^3.1.0" from the root project
npm error code ETARGET
npm error notarget No matching version found for firebase-admin@^11.29.1.
npm error notarget In most cases you or one of your dependencies are requesting
npm error notarget a package version that doesn't exist.

npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T23_00_50_804Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668.
[debug] [2024-12-05T23:01:04.730Z] Total Function Deployment time: 32421
[debug] [2024-12-05T23:01:04.730Z] 1 Functions Deployed
[debug] [2024-12-05T23:01:04.730Z] 1 Functions Errored
[debug] [2024-12-05T23:01:04.731Z] 0 Function Deployments Aborted
[debug] [2024-12-05T23:01:04.731Z] Average Function Deployment time: 32421
[info] 
[info] Functions deploy had errors with the following functions:
	helloWorld(us-central1)
[debug] [2024-12-05T23:01:04.732Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-12-05T23:01:04.733Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:04.733Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:04.734Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:04.734Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:04.734Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-12-05T23:01:04.736Z] >>> [apiv2][query] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T23:01:05.071Z] <<< [apiv2][status] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list 404
[debug] [2024-12-05T23:01:05.071Z] <<< [apiv2][body] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T23:01:05.073Z] Failed docker command with error  Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-05T23:01:05.076Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:05.076Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:05.076Z] >>> [apiv2][query] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T23:01:05.350Z] <<< [apiv2][status] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list 404
[debug] [2024-12-05T23:01:05.350Z] <<< [apiv2][body] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T23:01:05.351Z] Failed docker command with error  Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-05T23:01:05.453Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:05.453Z] Checked if tokens are valid: true, expires at: 1733441389615
[debug] [2024-12-05T23:01:05.454Z] >>> [apiv2][query] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T23:01:05.516Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 404
[debug] [2024-12-05T23:01:05.516Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"error":{"code":404,"message":"Package \"projects/oii-leaderboard/locations/us-central1/repositories/gcf-artifacts/packages/hello_world\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T23:01:05.776Z] <<< [apiv2][status] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list 404
[debug] [2024-12-05T23:01:05.776Z] <<< [apiv2][body] GET https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T23:01:05.776Z] Failed docker command with error  Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/oii-leaderboard/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/oii-leaderboard/us/gcf 
[debug] [2024-12-05T23:01:05.778Z] Functions deploy failed.
[debug] [2024-12-05T23:01:05.779Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "oii-leaderboard",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"oii-leaderboard\",\"databaseURL\":\"https://oii-leaderboard-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"oii-leaderboard.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "oii-leaderboard",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/oii-leaderboard/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "31c9d04a15525e98592b94a650a62558bde2a227"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions-test@3.3.0\nnpm warn node_modules/firebase-functions-test\nnpm warn   dev firebase-functions-test@\"^3.1.0\" from the root project\nnpm error code ETARGET\nnpm error notarget No matching version found for firebase-admin@^11.29.1.\nnpm error notarget In most cases you or one of your dependencies are requesting\nnpm error notarget a package version that doesn't exist.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T23_00_50_804Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^11.10.0 || ^12.0.0 || ^13.0.0\" from firebase-functions@6.1.1\nnpm warn node_modules/firebase-functions\nnpm warn   firebase-functions@\"^6.0.1\" from the root project\nnpm warn   1 more (firebase-functions-test)\nnpm warn ERESOLVE overriding peer dependency\nnpm warn While resolving: functions@undefined\nnpm warn Found: firebase-admin@12.7.0\nnpm warn node_modules/firebase-admin\nnpm warn   firebase-admin@\"^11.29.1\" from the root project\nnpm warn   2 more (firebase-functions, firebase-functions-test)\nnpm warn\nnpm warn Could not resolve dependency:\nnpm warn peer firebase-admin@\"^8.0.0 || ^9.0.0 || ^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions-test@3.3.0\nnpm warn node_modules/firebase-functions-test\nnpm warn   dev firebase-functions-test@\"^3.1.0\" from the root project\nnpm error code ETARGET\nnpm error notarget No matching version found for firebase-admin@^11.29.1.\nnpm error notarget In most cases you or one of your dependencies are requesting\nnpm error notarget a package version that doesn't exist.\n\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-05T23_00_50_804Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/00df843c-e136-4981-8ace-b6fc12477d8c?project=50958797668."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-12-05T23:01:05.781Z] Error: Failed to update function helloWorld in region us-central1
    at /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
